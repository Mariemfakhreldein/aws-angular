<div [formGroup]="BranchFormGroup">

  <div class="container-fluid justify-content-center mx-auto">
    <div class="col-lg-4 col-12 mb-3 row justify-content-center mb-3 mb-lg-5 mx-auto">
      <img class="col-lg-2 col-2 mt-1" src="assets/images/usedImages/editBranch.png">
      <h2 class="col-lg-6 col-5 mb-0 pt-2 text-start px-0 text-muted font-italic">Edit Branch</h2>
    </div>


    <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-body shadow rounded">
            <div class="form-validation">

              <div class="form-group row">

                <label class="col-lg-4 col-form-label text-muted font-weight-bold" for="name">Branch ID
                </label>
                <div class="col-lg-6">
                  <!-- Default checked -->
                    <input type="text" class="form-control" id="id" name="id" value="{{branch.id}}" disabled>
                </div>
              </div>

              <div class="form-group row">

                <label class="col-lg-4 col-form-label text-muted font-weight-bold" for="name">Branch Activation
                </label>
                <div class="col-lg-6">
                  <!-- Default checked -->
                  <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="customSwitch1" [checked]="branch.branchStatus"
                           formControlName="value">
                    <label style="color: grey" class="custom-control-label" for="customSwitch1">click active/deactivate</label>
                  </div>
                </div>
              </div>
              <div class="form-group row">
                <label class="col-lg-4 col-form-label text-muted font-weight-bold" for="name">Branch Name
                </label>
                <div class="col-lg-6">
                  <input type="text" class="form-control" id="name" name="name"
                         placeholder="Enter Branch Name"
                         [class.is-valid]="!BranchFormGroup.controls['name'].errors"
                         [class.is-invalid]="BranchFormGroup.controls['name'].errors && BranchFormGroup.controls['name'].touched"
                         formControlName="name">
                  <div class="text-danger col-lg-6 align-items-end align-self-end"
                       *ngIf="BranchFormGroup.controls['name'].errors && BranchFormGroup.controls['name'].touched">
                    <small *ngIf="BranchFormGroup.controls['name'].hasError('required')"
                           class="form-text text-danger">Branch name required</small>
                    <small *ngIf="BranchFormGroup.controls['name'].hasError('minlength')"
                           class="form-text text-danger">min length is 6 characters</small>
                    <small *ngIf="BranchFormGroup.controls['name'].hasError('maxlength')"
                           class="form-text text-danger">max length is 20 characters</small>
                  </div>
                </div>
              </div>


              <div class="form-group row">
                <label class="col-lg-4 col-form-label text-muted font-weight-bold" for="location">Branch Address
                </label>
                <div class="col-lg-6">
                  <input type="text" class="form-control" id="location" name="name"
                         placeholder="Enter Branch Address"
                         [class.is-valid]="!BranchFormGroup.controls['address'].errors"
                         [class.is-invalid]="BranchFormGroup.controls['address'].errors && BranchFormGroup.controls['address'].touched"
                         formControlName="address">
                  <div class="text-danger col-lg-6 align-items-end align-self-end"
                       *ngIf="BranchFormGroup.controls['address'].errors && BranchFormGroup.controls['address'].touched">
                    <small *ngIf="BranchFormGroup.controls['address'].hasError('required')"
                           class="form-text text-danger">Branch Address required</small>
                    <small *ngIf="BranchFormGroup.controls['address'].hasError('minlength')"
                           class="form-text text-danger">min length is 6 characters</small>
                    <small *ngIf="BranchFormGroup.controls['address'].hasError('maxlength')"
                           class="form-text text-danger">max length is 50 characters</small>
                  </div>
                </div>
              </div>



              <div class="form-group row">
                <div class="col-lg-8 ml-auto mx-auto text-center mt-2">
                  <button type="button" id="btn-submit" (click)="submitBtn()"
                          class="btn font-weight-bold"
                          [disabled]="BranchFormGroup.invalid" data-toggle="modal" data-target="#exampleModalCenter">Edit</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- #/ container -->


<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true" *ngIf="!isBranchEmpty">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div *ngIf="!isLoading">
      <app-success-popup *ngIf="getIsSuccess()" [item]="currentItem" [action]="action" ></app-success-popup>
      <app-failed-popup *ngIf="!getIsSuccess()" [item]="currentItem" [action]="action" ></app-failed-popup>
    </div>

    <app-loader *ngIf="isLoading"></app-loader>

  </div>
</div>

<script type="text/javascript">
  $(document).ready(function () {
    $('#security').multiselect();
  });

</script>
